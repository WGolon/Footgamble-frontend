<div class="container">

  <div class="loader" *ngIf="isLoading">
    <app-loading-spinner></app-loading-spinner>
  </div>

  <form (ngSubmit)="onSubmit(f)" #f="ngForm" *ngIf="!isLoading">
      <h1> Registration </h1>
    <label for='username'> <i class="far fa-user"></i> Username </label>
    <input
    placeholder="Username"
    type="text"
    name="username"
    ngModel
    class='inptField'
    required
    #username="ngModel">
    <span class='help-block' *ngIf="!username.valid && username.touched"> Please enter a username ! </span>

    <label for='email'> <i class="fas fa-at"></i> Email </label>
    <input
    placeholder="Email"
    type="text"
    name="email"
    id="email"
    ngModel
    class='inptField'
    email
    required
    #email="ngModel">
    <span class='help-block' *ngIf="!email.valid && email.touched"> Please enter a valid Email ! </span>

    <label for='password'> <i class="fas fa-unlock-alt"></i> Password </label>
    <input
    placeholder="Password"
    type="password"
    name="password"
    id="password"
    [(ngModel)] = "user.password"
    class='inptField'
    autocomplete="off"
    required
    #password="ngModel">
    <span class='help-block' *ngIf="!password.valid && password.touched"> Please enter a valid password ! </span>

    <label for='password2'> <i class="fas fa-unlock-alt"></i> Repeat password </label>
    <input
    placeholder="Repeat password"
    type="password"
    name="password2"
    id="password2"
    class='inptField'
    autocomplete="off"
    required
    [pattern] = 'user.password'
    [(ngModel)] = "user.password2"
    #password2="ngModel"
    >
    <span class='help-block' *ngIf="!password2.valid && password2.touched && user.password2!==user.password"> Passwords are not the same </span>

    <div class="alert" *ngIf="errMessage" > {{ errMessage }} </div>
    <div class="success" *ngIf="succMessage" > {{ succMessage }} </div>

    <button
    class="btn"
    type="submit"
    [disabled]="!f.valid"
    > Register </button>

  </form>
</div>


<!-- <div class="form-group">
  <input type="password" [(ngModel)]="user.password" name="password" placeholder="Password" class="form-control" required #password="ngModel" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" />
  <div *ngIf="password.invalid && (myform.submitted || password.touched)" class="alert alert-danger">
    <div *ngIf="password.errors.required"> Password is required. </div>
    <div *ngIf="password.errors.pattern"> Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters.</div>
  </div>
 </div>

 <div class="form-group">
  <input type="password" [(ngModel)]="userdata.confirmpassword" name="confirmpassword" placeholder="Confirm Password" class="form-control" required #confirmpassword="ngModel" pattern="{{ password.value }}" />
  <div *ngIf=" confirmpassword.invalid && (myform.submitted || confirmpassword.touched)" class="alert alert-danger">
    <div *ngIf="confirmpassword.errors.required"> Confirm password is required. </div>
    <div *ngIf="confirmpassword.errors.pattern"> Password & Confirm Password does not match.</div>
  </div>
 </div> -->
